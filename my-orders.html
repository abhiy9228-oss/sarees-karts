<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>My Orders</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>My Orders</h1>
    <nav>
        <a href="index.html">← Home</a>
    </nav>
</header>

<section style="padding:20px;max-width:700px;margin:auto;">

<div id="orders-box"></div>

<p id="no-orders" style="display:none;color:#777;">
No orders found
</p>

</section>

<script>
const orders = JSON.parse(localStorage.getItem("orders")) || [];
const box = document.getElementById("orders-box");

if (orders.length === 0) {
    document.getElementById("no-orders").style.display = "block";
}

orders.forEach(order => {

    const div = document.createElement("div");
    div.style.border = "1px solid #ddd";
    div.style.padding = "15px";
    div.style.borderRadius = "8px";
    div.style.marginBottom = "15px";

    let itemsHTML = "";
    order.items.forEach(i => {
        itemsHTML += `
        <div style="display:flex;align-items:center;margin:6px 0;">
            <img src="${i.image}" width="50" style="margin-right:10px;border-radius:5px;">
            ${i.name} – ₹${i.price}
        </div>`;
    });

    div.innerHTML = `
        <h3>Order ID: ${order.orderId}</h3>
        <p><b>Status:</b> ${order.status}</p>
        <p><b>Payment:</b> ${order.paymentMode}</p>
        <p><b>Total:</b> ₹${order.total}</p>
        <p><b>Delivery OTP:</b> ${order.otp}</p>
        <hr>
        ${itemsHTML}
    `;

    box.appendChild(div);
});
</script>

</body>
</html>
